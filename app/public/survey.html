<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    <link rel="stylesheet" href="assets/style.css">
    <title>Title</title>

    <link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns"
        crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="jumbotron">
            <h1 class="display-4"><i class="fab fa-facebook-f"></i>riend <i class="fab fa-facebook-f"></i>inder!<i
                    class="fas fa-user-friends"></i></h1>
            <p class="lead">Find out who you're most compatible with today!</p>
            <hr class="my-4">
            <p>Interesting and fun people are waiting for you!</p>
            <a class="btn btn-primary btn-lg" href="/home" role="button">Back to Home</a>
        </div>
    </div>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <form>
                    <h1>About You</h1>
                    <br>
                    <div class="form-group">
                        <label for="formGroupExampleInput">Name</label>
                        <input type="text" class="form-control" placeholder="Joe Dirt" id="name">
                    </div>
                    <div class="form-group">
                        <label for="formGroupExampleInput2">Link to Photo Image</label>
                        <input type="text" class="form-control" id="formGroupExampleInput2" placeholder="http://">
                    </div>
                </form>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>1. People should always tip regardless of the experience?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques1">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree!)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>2. Chocolate is the best?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques2">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree!)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>3. You find it easy to stay relax and focused even when there is some pressure?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques3">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree!)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>4. You often hear voices in your head?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques4">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>5. You find it difficult to be in  group settings for more than a couple of hours?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques5">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>6. You find it easy to relate to most people?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques6">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>7. I see my self more as an introvert?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques7">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Stronly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>8. I believe a man's best friend is his mother?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques8">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>9. I believe most people are generally good?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques9">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five (Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <h3>10. Meditation helps?</h3>
                <select class="custom-select custom-select-lg mb-3" id="ques10">
                    <option selected>Open this select menu</option>
                    <option value="1">One (Strongly Disagree)</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                    <option value="4">Four</option>
                    <option value="5">Five(Strongly Agree!)</option>
                </select>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-8">
                <button type="submit" class="submit btn btn-lg btn-secondary" id="submit">
                    <h3><i class="fas fa-users"></i>Submit</h3>

                </button>
                <br>
            </div>
        </div>
    </div>
    
    <div id="resultsModal" class="modal fade" role="dialog">
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <span class="modal-title h2-custom text-center"><strong>Your most compatible friend is:</strong></span>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body text-center">
            <h2 id="matchName"></h2>
            <img id="matchImg" src="#" height="350" width="300">
            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
    </div>

    <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.13.0/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <script type="text/javascript">

        

  var currentURL = window.location.origin;

        //get input

        $("#submit").on("click", function (event) {
            event.preventDefault();

            function validateForm() {
                var isValid = true;
                $(".form-control").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                $(".custom-select").each(function () {
                    if ($(this).val() === "") {
                        isValid = false;
                    }
                });
                return isValid;
            }
            if (validateForm()) {
                var userData = {
                    name: $("#name").val(),
                    photo: $("#formGroupExampleInput2").val(),
                    scores: [
                        $("#ques1").val(),
                        $("#ques2").val(),
                        $("#ques3").val(),
                        $("#ques4").val(),
                        $("#ques5").val(),
                        $("#ques6").val(),
                        $("#ques7").val(),
                        $("#ques8").val(),
                        $("#ques9").val(),
                        $("#ques10").val()
                    ]
                };
                console.log(userData);
                

                $.post(currentURL + "/api/friends", userData, function (data) {
                    // $.post("/api/friends", userData, function(data) {
                    $("#matchName").text(data.name);
                    console.log(data.name);
                    $("#matchImg").attr("src", data.photo);
                    console.log (data.photo);
                    $("#resultsModal").modal("toggle");
                    $("#name").val("");
                    $("#photo").val("");
                    $(".modal-footer").html("<h3><i class='fas, fa-users'></i> FriendFinder</h3>");
                    console.log(data);
                });

                $(".close").click(function () {
                    $.get("/", function (req, res) {
                        location.replace(res);
                    })
                });

            } else {
                $(".modal-title").text("missing info");
                $(".modal-body").html("<h3>Please answer all the questions.</h3>");
                $("#resultModal").modal("toggle");
                alert("Please answer all the questions!");
            }



        });



    </script>

</html>